"use strict";angular.module("factoryng").factory("Memyng",["$q","$timeout","Yng",function(a,b,c){return function(a,b,d){function e(){return(new Date).getTime()+"_"+Math.random().toString(36).substr(2,9)}var f=new c(a,b,d);f.copyApi(this),this.bind=function(a){return f.rebindModel(a)},this.create=function(a){return f.setPriorityIfNeeded(a),a.$id=e(),f.createDoc(a).then(function(a){return f.emit("uptodate"),a})},this.update=function(a){return f.updateDoc(a).then(function(a){return f.emit("uptodate"),a})},this.remove=function(a){return f.removeDoc(a).then(function(a){return f.emit("uptodate"),a})},this.setPriority=function(a,b){var c=f.toId(a),d=f.get(c);return d.$priority=b,f.moveDoc(d).then(function(a){return f.emit("uptodate"),a})}}}]);